<!DOCTYPE html>
<html>

    <body style="background-color: #CCCCCC; padding-left: 15px; padding-top: 15px">
        <form>
            <label for="gamestate"> Gamestate:&nbsp </label>
            <label id="gamestate"> </label>
            <!-- I'm sure there's a better way to do this, but I don't... care. -->
            <div style="padding-bottom: 8px"> </div>

            <label for="role"> Role:&nbsp </label>
            <label id="role"> </label>
            <div style="padding-bottom: 8px"> </div>

            <!-- Pick intent -->
            <label for="pick-intent-input"> Pick intent:&nbsp </label>
            <label for="pick-intent-input" id="pick-intent"> </label> <br>
            <input id="pick-intent-input" placeholder="Champ to pick..."> <br>
            <div style="padding-bottom: 8px"> </div>

            <!-- Ban intent -->
            <label for="ban-intent-input"> Ban intent:&nbsp </label>
            <label for="ban-intent-input" id="ban-intent"> </label> <br>
            <input id="ban-intent-input" placeholder="Champ to ban..."> <br>
            <div style="padding-bottom: 8px"> </div>

            <!-- Whether or not to replace runes/summs -->
            <label for="setrunes"> Set runes: </label>
            <input type="checkbox" id="setrunes"> <br>
            <div style="padding-bottom: 8px"> </div>

            <!-- Lobby management -->
            <label for="lobbyDropdown">Select lobby type:</label>
            <select name="lobbyDropdown" id="lobbyDropdown">
                <option value="draft">Normal Draft</option>
                <option value="ranked">Ranked Solo/Duo</option>
                <option value="flex">Ranked Flex</option>
            </select>
            <div style="padding-bottom: 8px"> </div>
            <button id="lobbyButton"> Create lobby </button>
            <button id="queuebutton"> Start queue </button>
            <div style="padding-bottom: 8px"> </div>

            <!-- Script status -->
            <label for="scriptstatus"> Script status:&nbsp </label>
            <label id="scriptstatus"> Not running </label> <br>
            <div style="padding-bottom: 8px"> </div>
            <button id="startbutton"> Start script </button>
        </form>
    </body>

    <script src="api.js"></script>
    <script src="interface.js"></script>
    <script>
        // Set up buttons
        let startButton = document.getElementById("startbutton");
        let pickInput = document.getElementById("pick-intent-input");
        let banInput = document.getElementById("ban-intent-input");
        let runeCheckbox = document.getElementById("setrunes");
        let queueButton = document.getElementById("queuebutton");
        let lobbyDropdown = document.getElementById("lobbyDropdown");
        let lobbyButton = document.getElementById("lobbyButton");

        // Set up displays
        let pickDisplay = document.getElementById("pick-intent");
        let banDisplay = document.getElementById("ban-intent");
        let gamestateDisplay = document.getElementById("gamestate");
        let roleDisplay = document.getElementById("role");
        let statusDisplay = document.getElementById("scriptstatus");

        setUpDisplay();

        let scriptCurrentlyRunning;
        (async () => { scriptCurrentlyRunning = await startScript(); })();

        setInterval(async () => {
            if (scriptCurrentlyRunning) {
                await updateStatus();
            }
        }, 3000);
    </script>
</html>