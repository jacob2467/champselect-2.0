<!DOCTYPE html>
<html>

    <body style="background-color: #CCCCCC; padding-left: 15px; padding-top: 15px">
        <form>
            <label for="gamestate"> Gamestate:&nbsp </label>
            <label id="gamestate"> </label>
            <!-- I'm sure there's a better way to do this, but I don't... care. -->
            <div style="padding-bottom: 8px"> </div>

            <label for="role"> Role:&nbsp </label>
            <label id="role"> </label>
            <div style="padding-bottom: 8px"> </div>

            <!-- Pick intent -->
            <label for="pick-intent-input"> Pick intent:&nbsp </label>
            <label for="pick-intent-input" id="pick-intent"> </label> <br>
            <input id="pick-intent-input" placeholder="Champ to pick..."> <br>
            <div style="padding-bottom: 8px"> </div>

            <!-- Ban intent -->
            <label for="ban-intent-input"> Ban intent:&nbsp </label>
            <label for="ban-intent-input" id="ban-intent"> </label> <br>
            <input id="ban-intent-input" placeholder="Champ to ban..."> <br>
            <div style="padding-bottom: 8px"> </div>

            <!-- Whether or not to replace runes/summs -->
            <label for="setrunes"> Set runes: </label>
            <input type="checkbox" id="setrunes"> <br>
            <div style="padding-bottom: 8px"> </div>

            <!-- Script status -->
            <label for="scriptstatus"> Script status:&nbsp </label>
            <label id="scriptstatus"> Not running </label> <br>
            <div style="padding-bottom: 3px"> </div>
            <button id="startbutton"> Start script </button> <br>
        </form>
    </body>

    <script src="api.js"></script>
    <script src="interface.js"></script>
    <script>
        let scriptStarted = false;

        // Set up buttons
        let startButton = document.getElementById("startbutton");
        let pickInput = document.getElementById("pick-intent-input");
        let banInput = document.getElementById("ban-intent-input");
        let runeCheckbox = document.getElementById("setrunes");
        // TODO: Add button to start queue
        // TODO: Make rune checkbox send runes right away if enabled in finalization phase

        // Set up displays
        let pickDisplay = document.getElementById("pick-intent");
        let banDisplay = document.getElementById("ban-intent");
        let gamestateDisplay = document.getElementById("gamestate");
        let roleDisplay = document.getElementById("role");
        let statusDisplay = document.getElementById("scriptstatus");

        setUpDisplay();

        setInterval(async () => {
            // Only try to update once the script has been started
            if (scriptStarted) {
                await updateStatus();
            }
        }, 3000);
    </script>
</html>